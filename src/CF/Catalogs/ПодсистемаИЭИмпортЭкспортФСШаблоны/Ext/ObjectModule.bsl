//sza140904-0256
//sza140118-1637 укр: 
//sza110209-1639 ЭтоПлатежныйдокумент
//sza101222-1256       
//sza101116-0101       
//sza101110-1852       
//sza101109-0209       
//sza101104
//sza101020
Процедура ПередЗаписью(Отказ)
	
	Если НЕ ЭтоГруппа Тогда
		Если ПодсистемаИЭИмпортЭкспортФС.ШаблонФайлаФорматФайлаDBF(ЭтотОбъект) Тогда
			Для Каждого ПолеПоследовательности из ПоследовательностьПолейВФайле Цикл
				
				Если ПолеПоследовательности.ИмяПоляВФайле = "" Тогда
					Сообщение = Новый СообщениеПользователю;
					Сообщение.Текст = ОбщийМодульПовтор.ПолучитьТекстНаЯзыке("Не указано имя поля в файле ДБФ!");
					Сообщение.Поле  = ПоследовательностьПолейВФайле;
					Сообщение.УстановитьДанные(ЭтотОбъект);
					Сообщение.Сообщить();					
					
					ОбщийМодульСервисСервер.ДобавитьСообщениеПользователю(ОбщийМодульПовтор.ПолучитьТекстНаЯзыке("Не указано имя поля в файле ДБФ!"));
				КонецЕсли;
				
			КонецЦикла;
		КонецЕсли;
		
		Если ВидШаблона = Перечисления.ПодсистемаИЭИмпортЭкспортФайловВидыШаблонов.ДляОбменаСБанком Тогда
			ЭтоПлатежныйдокумент = ИСТИНА;
		Иначе
			ЭтоПлатежныйдокумент = ЛОЖЬ;
		КонецЕсли;
		
		Если НомерПоляКотороеВсегдаЗаполнено = 0 Тогда
			НомерПоляКотороеВсегдаЗаполнено = 1;
		КонецЕсли;	
		
		Если РазделительПолей = "" Тогда
			РазделительПолей = ";";
		КонецЕсли;
		
		Если СокрЛП(КодировкаФайла) = "" Тогда
			КодировкаФайла = "ANSI";
		КонецЕсли;	
		
		ТекстПроизвольногоЗапроса = СтрЗаменить(ТекстПроизвольногоЗапроса, "|", " ");
		
	КонецЕсли;
	
КонецПроцедуры
