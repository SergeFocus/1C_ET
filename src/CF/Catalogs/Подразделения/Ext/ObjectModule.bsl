#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

// sza151210-2258 про
// sza150528-0201
// sza140506-1727
Процедура ОбработкаЗаполнения(ДанныеЗаполнения, СтандартнаяОбработка)

	Если ТипЗнч(ДанныеЗаполнения) = Тип("СправочникСсылка.Сотрудники") Тогда
		Телефон 	 = ОбщийМодульСервер.ПолучитьТекстТелефонов(ДанныеЗаполнения);
		Организация  = ДанныеЗаполнения.Организация;
		Руководитель = ДанныеЗаполнения.Ссылка;
		СтрокаСостава = Состав.Добавить();
		СтрокаСостава.Сотрудник = ДанныеЗаполнения.Ссылка;
		СтрокаСостава.Должность = ДанныеЗаполнения.Должность;
		СтрокаСостава.ОСтроке   = ДанныеЗаполнения.Комментарий;
	ИначеЕсли ТипЗнч(ДанныеЗаполнения) = Тип("СправочникСсылка.Склады") Тогда
		Адрес 		 = ДанныеЗаполнения.Адрес;
		ДатаРедакции = ДанныеЗаполнения.ДатаРедакции;
		ДатаСоздания = ДанныеЗаполнения.ДатаСоздания;
		Код 		 = ДанныеЗаполнения.Код;
		Комментарий  = ДанныеЗаполнения.Комментарий;
		Локация 	 = ДанныеЗаполнения.Локация;
		Наименование = ДанныеЗаполнения.Наименование;
		Ответственный= ДанныеЗаполнения.Ответственный;
		Регион 		 = ДанныеЗаполнения.Регион;
		Склад 		 = ДанныеЗаполнения.Ссылка;
		Телефон 	 = ДанныеЗаполнения.Телефон;
	КонецЕсли;

КонецПроцедуры

Процедура ПередЗаписью(Отказ)

	Если НЕ Отказ
		И НЕ ПометкаУдаления
		И НЕ ОбщийМодульПовтор.ПолучитьЗначениеНастройкиИлиКонстанты("МассоваяЗагрузка", ИСТИНА) Тогда

		Отказ = ОбщийМодульСервер.ПроверитьУникальностьЗначенияРеквизита(Отказ, "Подразделения", Наименование, Ссылка);

		Если НЕ Отказ
			И ОбщийМодульПовтор.ПолучитьЗначениеНастройкиИлиКонстанты("ФормироватьОписаниеТаблицОбъектовДляИхСписков") Тогда

			ОбщийМодульСервер.ОформитьОписаниеТаблицы(ЭтотОбъект, "Состав", "Сотрудник", ОбщийМодульПовтор.ПолучитьТекстНаЯзыке("сотрудников"));
		КонецЕсли;
	КонецЕсли;

КонецПроцедуры

Процедура ПриКопировании(ОбъектКопирования)
	Комментарий = "";
КонецПроцедуры

#КонецЕсли
