#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

// sza151210-2306 про
// sza140411-1702 :
// sza111031-1500
Процедура ПередЗаписью(Отказ)

	Если НЕ Отказ
		И НЕ ПометкаУдаления
		И НЕ ОбщийМодульПовтор.ПолучитьЗначениеНастройкиИлиКонстанты("МассоваяЗагрузка", ИСТИНА) Тогда

		Если НЕ ЭтоГруппа Тогда
			Если ЗначениеЗаполнено(ВидДокумента) Тогда
				Префикс = ВидДокумента.ПрефиксКНомеру;
			Иначе
				Префикс = "";
			КонецЕсли;

			ПравильноеИмя = СокрЛП(Префикс + " " + НомерДокумента + " " + ОбщийМодульПовтор.ПолучитьТекстНаЯзыке("От") + " " + формат(ДатаВыдачи, "ДФ=dd.MM.yy"));

			Если НЕ Наименование = ПравильноеИмя Тогда
				Наименование = ПравильноеИмя;
			КонецЕсли;
		КонецЕсли;

		Если НЕ ЭтоГруппа
			И ОбщийМодульПовтор.ПолучитьЗначениеНастройкиИлиКонстанты("ФормироватьОписаниеТаблицОбъектовДляИхСписков") Тогда

			ОбщийМодульСервер.ОформитьОписаниеТаблицы(ЭтотОбъект);
		КонецЕсли;
	КонецЕсли;

КонецПроцедуры

Процедура ПриЗаписи(Отказ)

	Если НЕ Отказ
		И НЕ ОбщийМодульПовтор.ПолучитьЗначениеНастройкиИлиКонстанты("МассоваяЗагрузка", ИСТИНА)
		И Модифицированность() Тогда

		ОбновитьПовторноИспользуемыеЗначения();
	КонецЕсли;

КонецПроцедуры

#КонецЕсли
