<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.10586.162"></meta></head><body>
<h1>Консоль запитів для керованого застосування</h1>
<p>Інструмент "Консоль запитів" призначена для налагодження і перегляду результатів виконання запитів в режимі 1С: Підприємство.Дана обробка призначена, в основному, для розробників конфігурацій і фахівців з впровадження.</p>
<p>При розробці запитів в конфігураторі, як правило, потрібно проводити налагодження запиту на реальних даних.Даний інструмент дозволяє вести розробку запиту (або пакета запитів) паралельно з переглядом результату.При роботі з інструментом в товстому клієнті можна скористатися конструктором запитів, як і при роботі в конфігураторі.Можливості по аналізу результату запиту включають:</p>
<ul><li>висновок даних тимчасових таблиць, 
</li><li>завмер часу виконання запиту і числа рядків, 
</li><li>підсвічування зазначених осередків в результаті запиту, 
</li><li>інтерактивне порівняння двох результатів запиту (тільки в товстому клієнті), 
</li><li>а також висновок результату запиту в новому вікні. 
</li><li>висновок плану виконання запиту, а також SQL-текст запиту, сформованого в СУБД.Для СУБД Microsoft SQL Server план виконання виводиться у вигляді дерева, а для інших СУБД - в текстовому форматі технологічного журналу.Для спрощення аналізу запитів також передбачено два режими відображення текстів запитів: з іменами таблиць і колонок СУБД або з іменами об'єктів метаданих та реквізитів конфігурації.</li></ul><p>Після завершення налагодження, текст запиту можна перенести в код (за допомогою команди формування тексту запиту для конфігуратора) або в звіти конфігурації.До сервісними можливостями відносяться робота відразу з декількома запитами (пакет запитів), збереження тексту і параметрів запитів у файлі, автозбереження, експорт результатів запиту в табличний документ і інше.</p>
<p>Якщо в запиті при виведенні результатів потрібно використовувати крапку з комою, то її слід екранувати символом зворотного слеша - "<strong></strong><br>Приклад:<em>ВИБРАТИ Номенклатура.Наіменованіе + "\;" + Номенклатура.Наіменованіе З Справочнік.Номенклатура</em></p>
<h4>Швидкий перенесення тексту запиту і його параметрів в консоль запитів з відладчика.</h4>
<p>У Бібліотеці Стандартних Підсистем версії 2.3.2 і вище існує функція "ОбщегоНазначенія.ЗапросВСтрокуXML ", яка дозволяє швидко перенести запит (текст і всі параметри) з відладчика в консоль запитів.Для цього необхідно:</p>
<ul><li>У конфигураторе встановити точку зупину безпосередньо перед викликом методу «Виконати» запиту і запустити інформаційну базу в режимі налагодження. 
</li><li>Коли виконання коду зупиниться в точці зупинки натиснути Shift + F9 (або в меню "Налагодження" натиснути "Обчислити вираз").У вікні "Вираз": 
<ul><li>В поле Вираз ввести "ОбщегоНазначенія.ЗапросВСтрокуXML (Запит) ", де" Запит "це ім'я змінної типу Запит. 
</li><li>У таблиці Результат виділити з'явилася рядок з результатом обчислення виразу і натиснути F2 (або в контекстному меню натиснути "Показати значення в окремому вікні"). 
</li><li>У вікні «Перегляд значення виразу» виділити весь текст і скопіювати в буфер обміну.</li></ul></li><li>Натиснути "ОК", закрити вікно "Вираз", відключити точку зупину, продовжити виконання (F5) і перейти в консоль запитів в режимі Підприємство. 
</li><li>В консолі запитів вставити скопійований текст в поле Текст запиту і в меню "Ще" натиснути "Заповнити з XML".</li></ul></body></html>