<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.9600.17126"></meta></head><body>
<h1>Setting the configuration file of Technology Journal (logcfg.xml)</h1>
<dl><dt>This treatment is designed to edit the configuration file of Technology Journal (<strong>logcfg.xml</strong>).</dt></dl><p class="Important">Features of this treatment does not allow full use of the opportunities provided by the file format in the settings of the events recorded in the production logbook, however, provided enough opportunities to quickly create configuration files that cover a significant portion of the needs.</p>
<p>When you open the process attempts to open an existing configuration file technological log. File search is performed in the following ways:</p>
<ul><li>Directory <strong>bin \ conf</strong>
 launched version of 1C: Enterprise 8. If the file is found - it opens the processing and further search prkraschaetsya. </li><li>If the file is not found in the catalog <strong>bin \ conf</strong> Located file <strong>conf.cfg</strong>, It tries to find the file in the directory specified in this file. If the file is found - it opens treatment.</li></ul><p>With this treatment, you can specify the settings for the dump, memory leaks, and control of process parameters magazine.</p>
<p>The tab <strong class="ControlElement">Technological log settings</strong> Zavala possible settings for creating technological log.</p>
<p>The tab <strong class="ControlElement">The settings dump and monitor memory leaks</strong> it is possible to set the parameters:</p>
<ul><li>
Building a dump; </li><li>
Fixing memory leaks on the server; </li><li>Fixing leaks memory configuration.</li></ul><p>The tab <strong>Technology Journal of default and system events</strong> you configure the settings for creating the technological default log.</p>
<p>It is also possible to form the template configuration files.</p>
<p>To do this, you must specify the required parameters of the configuration file and run the command <strong>More - Save as Template ...</strong> The configuration file is saved to the catalog of common configuration files named <strong>config * .lct </strong>(instead of the * character will be replaced by the serial number of the template file).</p>
<h2>Work with the editor of parameters of the journal</h2>
<p>Consider techniques for working with the editor of parameters of the magazine.</p>
<h3>Setting the editor of the journal Technology</h3>
<p>Above the editor is a group of parameters <strong>Settings</strong>. In this group are given the need to conduct the process journal, its location and the storage period, as well as options that allow you to make the editing process more convenient. The group can be minimized, after all adjustments that it takes up less space on the screen.</p>
<p>Checkbox <strong>Forming Technology Magazine</strong> controls need to create technological log system "1C: Enterprise". </p>
<p><strong>Location technology magazine</strong> and <strong>The storage period of history, clock</strong> determining where and how long the process will be stored log.</p>
<p>In the right part of the group settings are located auxiliary controls that allow you to make the editing process more convenient. A group of switches (<strong class="ControlElement">All properties</strong>.<strong class="ControlElement">Only selected properties</strong> and <strong class="ControlElement">All the properties of the selected events</strong>) Determines which events will be displayed in the editor window:</p>
<ul><li>
<div><strong>All the properties of the selected events</strong> - A dynamic mode. This shows only the properties that are available for selected events (recorded the first column). Adding or removing events - ranging composition of the properties displayed. When displaying ignores the fact that for the unmarked column can be set to any property.</div>
</li><li>
<div>
<div><strong>Only selected properties</strong> - In this case will show only those properties for which the mark is set at-least one event log process. Mode is not dynamic.</div></div>
</li><li>
<div>
<div><strong>All properties</strong> - In this case will show all the properties of all event log process. Mode is not dynamic.</div></div></li></ul><p>If you want to display only those events that are in any way chosen (marked in any column of a specific event), you can do so using the flag <strong class="ControlElement">Only the checked events</strong>.</p>
<p>With switches <strong>Show descriptions</strong> and <strong>Display names</strong> You can control the way the display properties and events in the editor.</p>
<dl><dt>
<div>Also, in the bottom of the form otobrazhaemtsya description of the current events (artist <strong>Current event</strong>) And current property (group <strong>Current property</strong>). ID of the current event, or property is displayed in parentheses after the matching text. For example, for the event "SQL, Microsoft SQL Server" group header will look like <strong>Current Event (dbmssql)</strong>. If this auxiliary information is not needed, it can be removed, turning the group <strong>Additional Information</strong>.</div></dt></dl><h3>General editing rules</h3>
<p>Configuration Editor is a matrix in which the rows are presented events that can enter into a process log, and in columns - the properties of these events.</p>
<p>Cells that have a white background and circled frame, perform any action, if you click on them. Clicking on the cell causes the mark - the appearance of the symbol "V". Clicking again removes the mark.</p>
<p>If you are a mark of the cell in column <strong class="ControlElement">All events</strong> or any column to the right of this column, is carried out at the same time as a mark of the first cell from the current event (including in the process of the event log). Removal of the mark does not have such features.</p>
<p>Marking properties for all events (for which the property is defined) is performed using the context menu <strong class="ControlElement">Enable for all events</strong>. To deselect should use the context menu command <strong class="ControlElement">Turn off for all events</strong>Standing in any line of the column to the selected property.</p>
<p>If you want to assign a condition to an event, this should be done by using the context menu <strong class="ControlElement">Conditions for the event ...</strong>While in any column of the selected event. If the conditions are set, the mark acquired the form "<strong>V</strong>"(Marked in bold). To remove the conditions for the event should either delete all the events in the editor environment, or use the context menu command <strong class="ControlElement">Clean the filter for the event</strong>. This mark will remain, but will lose the bold design.</p>
<p>If you want to assign a condition on the event property, this should be done by using the context menu <strong class="ControlElement">The condition on the property ...</strong>While in the cell, which can be edited (white background and frame). If the conditions are set, the mark acquired the form "<strong>V</strong>"(Marked in bold). To remove the conditions for the event should either delete all the events in the editor environment, or use the context menu command <strong class="ControlElement">Clean the filter property</strong>. This mark will remain, but will lose the bold design.</p>
<p>If you want to clear all the property settings and event log process, select the context menu command EDITOR <strong>Clear parameters of technological log</strong>. If yes, the magazine will be set for the registration of all properties for all events. No other parameters technological log (lifetime and the way in technological log directory will not be changed).</p>
<h3>Patterns and their use</h3>
<p>To simplify the creation of configuration files in some typical cases, the editor of the configuration file contains a number of technological log templates (predefined configuration files) that allow you to quickly make the settings configuration file. To use the template, select the command <strong>Template ...</strong> in the dialog box to select the desired template.</p>
<p>In addition, there is an opportunity to create templates configuration file. To do this, set the required parameters on both tabs (<font color="#000040"><strong>Technological log settings</strong> and <strong>The settings dump and monitor memory leaks</strong></font>) And select <strong>All actions - Save as Template ...</strong> After specifying a template, the template file is saved to the catalog system configuration files.</p>
<p>Then, these templates will also be available in the selection box when you select a template <strong>Template ...</strong></p>
<dl><dt>
<h3>Typical operations in the parameters of the technological magazine editor</h3></dt></dl><p>If you want to include in the technological log all the events and all the properties of the event, set the mark for the event "All Events" and properties "All properties". To file <strong>logcfg.xml</strong> gets the following text:</p><pre class="SyntaxDescription">&amp; lt; event &amp; gt;<br> &amp; lt; ne property = "name" value = "" / &amp; gt;<br>&amp; lt; / event &amp; gt;<br>&amp; lt; property name = "all" / &amp; gt;<br></pre>
<p>If you want to file always gets design <strong>&amp; lt; property name = "all" / &amp; gt;</strong>It is necessary that the property has been found, "All properties" for the event "All events" (not including the event itself).</p>
<p>If you want to include in the technological log all events of a property, it is necessary to note the very first column, located in front of the selected property). For example, if the label is facing property "Microsoft SQL Server", the file <strong>logcfg.xml</strong> get the following:</p><pre class="SyntaxDescription">&amp; lt; event &amp; gt;<br> &amp; lt; eq property = "name" value = "dbmssql" / &amp; gt;<br>&amp; lt; / event &amp; gt;<br></pre>
<p dir="ltr">If you want to include in the technology magazine all the properties of the selected event, it should be noted property "All properties" from the required event (the event will be marked automatically, and all available properties of this event will be marked with a special background color). For example, if the column "All properties" at the properties marked "SQL, Microsoft SQL Server", then to file <strong>logcfg.xml</strong> get the following text:</p><pre class="SyntaxDescription" dir="ltr">&amp; lt; event &amp; gt;<br> &amp; lt; eq property = "name" value = "dbmssql" / &amp; gt;<br>&amp; lt; / event &amp; gt;<br>&amp; lt; property name = "all" &amp; gt;<br> &amp; lt; event &amp; gt;<br>  &amp; lt; eq property = "name" value = "dbmssql" / &amp; gt;<br> &amp; lt; / event &amp; gt;<br>&amp; lt; / property &amp; gt;<br></pre>
<p>If you want your event gets in the technology magazine only if vpolnyaetsya a condition, you should call a context menu in the event of any column and select <strong>Conditions for the event ...</strong> In the next window you can set the necessary conditions (to set conditions are available only properties that are present at selected events). To file <strong>logcfg.xml</strong> get text like the following (the event <strong>dbmssql</strong> gets into the process in the event log if the property <strong>duration</strong> more than <strong>100000</strong>):</p><pre class="SyntaxDescription" dir="ltr">&amp; lt; event &amp; gt;<br> &amp; lt; eq property = "name" value = "dbmssql" / &amp; gt;<br> &amp; lt; gt property = "duration" value = "15000" / &amp; gt;<br>&amp; lt; / event &amp; gt;<br></pre>
<p dir="ltr">If you want the property fell into the technology magazine for an event only if a certain condition, it should be in line to get the desired event column of the desired properties in the context menu select the command <strong>Conditions at the property ...</strong> (in this case, if this property is available for the selected event). In the window that opens, you can set conditions on the property. To file <strong>logcfg.xml</strong> get text like the following (the property <strong>sql</strong> developments <strong>dbmssql</strong> zhurnla gets into the process only when the property <strong>duration</strong> developments <strong>dbmssql</strong> better <strong>150000</strong>):</p><pre class="SyntaxDescription">&amp; lt; property name = "sql" &amp; gt;<br> &amp; lt; event &amp; gt;<br>  &amp; lt; eq property = "name" value = "dbmssql" / &amp; gt;<br>  &amp; lt; gt property = "duration" value = "15000" / &amp; gt;<br> &amp; lt; / event &amp; gt;<br>&amp; lt; / property &amp; gt;</pre>
<p class="Usual">If you want to include in the magazine Technology specific property for all events, it should be in the context menu select the command <strong>Enable for all events</strong>. To file <strong>logcfg.xml</strong> get text like this:</p><pre class="SyntaxDescription">&amp; lt; property name = "dbpid" &amp; gt;<br> &amp; lt; event &amp; gt;<br>  &amp; lt; ne property = "name" value = "" / &amp; gt;<br> &amp; lt; / event &amp; gt;<br> &amp; lt; event &amp; gt;<br>  &amp; lt; eq property = "name" value = "db2" / &amp; gt;<br> &amp; lt; / event &amp; gt;<br> &amp; lt; event &amp; gt;<br>  &amp; lt; eq property = "name" value = "dbmssql" / &amp; gt;<br> &amp; lt; / event &amp; gt;<br> &amp; lt; event &amp; gt;<br>  &amp; lt; eq property = "name" value = "dboracle" / &amp; gt;<br> &amp; lt; / event &amp; gt;<br> &amp; lt; event &amp; gt;<br>  &amp; lt; eq property = "name" value = "dbpostgrs" / &amp; gt;<br> &amp; lt; / event &amp; gt;<br>&amp; lt; / property &amp; gt;</pre>
<h2>Using the settings dump tracking of memory leaks and conservation plans for queries</h2>
<h3>Setting dump</h3>
<p>To the 1C: Enterprise created the memory dump upon the occurrence of an error causing emergency zaverschsheniyu the system, you must enable the checkbox <strong>Create a dump when crashes</strong>, Select a location dump file and its type. In most cases, leave the dump type, the default (or use the command <strong>The optimum size of the dump</strong> context menu edit fields such as dump).</p>
<h3>Settings save query plans</h3>
<p>For the preservation of query plans in the technology magazine responds box <strong>Track query plans (&amp; lt; planSQL &amp; gt;)</strong> and property <strong>planSQLText</strong> Event execution of SQL statements of different databases. Installation of the first flag includes the possibility of generating query plans, and enabling or disabling the properties managed by the availability of information about the plans of queries relevant developments. If you include the preservation of query plans, it is recommended to also include a recording properties <strong>SQL</strong> Events for the execution of SQL statements of different databases.</p><pre class="SyntaxDescription"> &amp; lt; plansql / &amp; gt;<br> &amp; lt; log location = "C: \ v82 \ logs \" history = "48" &amp; gt;<br>  &amp; lt; event &amp; gt;<br>   &amp; lt; eq property = "name" value = "dbmssql" / &amp; gt;<br>  &amp; lt; / event &amp; gt;<br>  &amp; lt; property name = "plansqltext" &amp; gt;<br>   &amp; lt; event &amp; gt;<br>    &amp; lt; eq property = "name" value = "dbmssql" / &amp; gt;<br>   &amp; lt; / event &amp; gt;<br>  &amp; lt; / property &amp; gt;<br>  &amp; lt; property name = "sql" &amp; gt;<br>   &amp; lt; event &amp; gt;<br>    &amp; lt; eq property = "name" value = "dbmssql" / &amp; gt;<br>   &amp; lt; / event &amp; gt;<br>  &amp; lt; / property &amp; gt;<br> &amp; lt; / log &amp; gt;</pre>
<p>In this example, the performance of the operators for the event database server MSSQL (Event <strong>dbmssql</strong>) Included fixation text query language SQL (property <strong>sql</strong>) And query execution plans (property <strong>plansqltext</strong>). Also included is a collection of query execution plans (element <strong>plansql</strong>).</p>
<p class="Important">Getting query plans slows querying the database. For some database slowdown could be significant.</p>
<h3>Settings memory leaks</h3>
<p class="Usual">For the control of memory leaks meets two settings:</p>
<ul><li>
<div><strong>Monitor server memory usage</strong>. This should include a conclusion to the process log of all events, including events, either alone <strong>mem</strong> (<strong>Memory Leak server</strong>).</div>
</li><li>
<div><strong>Track memory leak in the code configuration</strong>. In this case, you must specify the areas in which you need to control whether the configuration of the memory leak. This can be done by using flags <strong>Checkpoint start / stop code execution on a client</strong>.<strong>Checkpoint start / stop code execution on a server</strong>And lists to enter information about a controlled modules. This should include a conclusion to the process log of all events, including events, either alone <strong>leaks</strong> (<strong>Memory leak</strong>).</div></li></ul><h2>Setting up of the technological default log</h2>
<p>Technology Journal of default - is a special kind of process log for recording of events occurring in critical situations (in terms of the system "1C: Enterprise"). To do this, the magazine created a fixed event filter, which forms the platform and which can not be changed.</p>
<p>However, it is possible to configure <strong>Location System technology magazine</strong> and <strong>The storage period of history, clock</strong>. To set the log storage process by default is a default hyperlink <strong>Set the system configuration process default log</strong>.</p>
<p>Using the table <strong>System events</strong> You can specify the details of the recorded events.</p></body></html>