<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.9600.17126"></meta></head><body>
<h1>Setting the configuration file technological log (logcfg.xml)</h1>
<dl><dt>This treatment is intended to edit the configuration file technological log (<strong>logcfg.xml</strong>).</dt></dl><p class="Important">Possibilities of this treatment does not allow full use of the opportunities provided by this file format in the settings of the events recorded in the production logbook, however, given enough opportunities to quickly create configuration files that cover a significant part of the requirements.</p>
<p>When you open a processing attempts to open an existing configuration file technological magazine. File is searched for in the following ways:</p>
<ul><li>Catalog <strong>bin \ conf</strong> running version of 1C: Enterprise 8. If a file is found - it opens the processing and further search prkraschaetsya. 
</li><li>If the file is not found in the catalog <strong>bin \ conf</strong> the file is located <strong>conf.cfg</strong>, It tries to find the file in the directory specified in this file. If the file is found - it opens treatment.</li></ul><p>With this treatment, you can specify parameters for the dump memory leaks and control of technological parameters of the magazine.</p>
<p>Tab <strong class="ControlElement">Technological log settings</strong> Zavala shaping parameters can process log.</p>
<p>Tab <strong class="ControlElement">Settings dump and tracking down memory leaks</strong> it is possible to set the parameters:</p>
<ul><li>Create a memory dump; 
</li><li>Fixing memory leaks on the server; 
</li><li>Fixing memory leaks in the configuration.</li></ul><p>Tab <strong>Technology Journal of default and system events</strong> configures the parameters for the formation process of the magazine by default.</p>
<p>It is also possible to form templates configuration files.</p>
<p>To do this, you must set the required parameters of the configuration file and run the command <strong>More - Save as template ...</strong> The configuration file is saved in the catalog of common configuration files named <strong>config *. lct </strong>(Instead of the symbol * will be replaced by the sequence number of the template file).</p>
<h2>Working with the editor of the journal of the technological</h2>
<p>Consider techniques for working with the editor of the technological magazine.</p>
<h3>Configuring the editor of the journal Technology</h3>
<p>Located above the editor parameter group <strong>Settings</strong>. In this group are given the need to maintain technological magazine, its location and the period of storage, as well as options that allow you to make the editing process more comfortable. You can collapse the group, after all adjustments that it takes up less space on the screen.</p>
<p>Flag <strong>Forming technology magazine</strong> controls need to create technological log system "1C: Enterprise". </p>
<p><strong>Location technology magazine</strong> and <strong>Retention period of history, clock</strong> determine where and how long the process will be stored log.</p>
<p>In the right part of the group settings are helpers controls that allow us to make the editing process more comfortable. Group switches (<strong class="ControlElement">All properties</strong>,<strong class="ControlElement">Only selected properties</strong> and <strong class="ControlElement">All properties of the selected events</strong>) Determines which events will be displayed in the editor window:</p>
<ul><li>
<div><strong>All properties of the selected events</strong> - A dynamic mode. At the same time displays only those properties that are available for selected events (recorded the first column). Adding or removing events - ranging composition of visible properties. When displaying ignores the fact that for the unmarked column can be set to a property.</div>
</li><li>
<div>
<div><strong>Only selected properties</strong> - In this case will display only those properties for which the mark is set at-least one event technology magazine. Mode is not dynamic.</div></div>
</li><li>
<div>
<div><strong>All properties</strong> - In this case you will see all the properties of all the technological developments of the magazine. Mode is not dynamic.</div></div></li></ul><p>If you want to display only those events that somehow selected (marked in any column of a specific event), then it can be done using a checkbox <strong class="ControlElement">Only marked event</strong>.</p>
<p>With switches <strong>See description</strong> and <strong>Show names</strong> You can control the way the display properties, and events in the editor.</p>
<dl><dt>
<div>Also, in the bottom of the form otobrazhaemtsya description of the current event (group <strong>Current Event</strong>) And the current property (group <strong>The current property</strong>). ID of the current events, or properties shown in brackets after the text conform. For example, for the event "SQL, Microsoft SQL Server" group header will have the form <strong>Current Event (dbmssql)</strong>. If this auxiliary information is not needed, it can be removed by turning the group <strong>Additional information</strong>.</div></dt></dl><h3>General rules for editing</h3>
<p>Configuration Editor is a matrix in which the rows are presented events that may fall into the technological magazine, and in the columns - the properties of these events.</p>
<p>Cells that have a white background and a border around, perform any action if you click on them. Clicking on a cell causes the mark - the emergence of character "V". Click again to unselect.</p>
<p>If you are a mark of the cell in column <strong class="ControlElement">All events</strong> or any column to the right of this column, then run concurrently also mark the very first cell in the current event (including in the process of the event log). Unchecking does not have such features.</p>
<p>Mark properties for all events (for which this property is defined) is performed via the context menu commands <strong class="ControlElement">Enable for all events</strong>. To remove marks should use the context menu command <strong class="ControlElement">Disable for all events</strong>Standing in any line of speakers selected property.</p>
<p>If you want to assign to an event condition, it should be done by using the context menu <strong class="ControlElement">Condition for the event ...</strong>Being in any column of the selected event. If the conditions are set, then mark the acquisition view "<strong>V</strong>"(Marked in bold). To remove the conditions on the event should either delete all the events in the online environment, or use the context menu command <strong class="ControlElement">Clear filter for events</strong>. In this case the mark will remain, but will lose bold design.</p>
<p>If you want to assign a condition on the event property, it should be done by using the context menu <strong class="ControlElement">Condition on the property ...</strong>While in a cell that can be edited (white background and frame). If the conditions are set, then mark the acquisition view "<strong>V</strong>"(Marked in bold). To remove the conditions on the event should either delete all the events in the online environment, or use the context menu command <strong class="ControlElement">Clear filter property</strong>.</p>
<p><strong>Clear parameters of technological magazine</strong>.</p>
<h3></h3>
<p><strong>Template ...</strong> </p>
<p><font color="#000040"><strong>Technological log settings</strong> and <strong></strong></font><strong></strong></p>
<p><strong>Template ...</strong></p>
<dl><dt>
<h3></h3></dt></dl><p><strong>logcfg.xml</strong> </p><pre class="SyntaxDescription"><br><br><br><br></pre>
<p><strong></strong></p>
<p><strong>logcfg.xml</strong> </p><pre class="SyntaxDescription"><br><br> Event&gt;<br></pre>
<p dir="ltr">If you want to include in a technologically log all properties of the selected events, it should be noted the property "All properties" in the required events (the event will be marked automatically, and all available properties of the event will be marked with a special background color). For example, if the column "All properties" noted in the property "SQL, Microsoft SQL Server", then the file <strong>logcfg.xml</strong> get the following text:</p><pre class="SyntaxDescription" dir="ltr"><event><br><eq property="name" value="dbmssql"></eq><br> Event&gt;<br><property name="all"><br><event><br><eq property="name" value="dbmssql"></eq><br> Event&gt;<br> Property&gt;<br></event></property></event></pre>
<p>If you want the event falls within the technological log only if vpolnyaetsya some condition, it should bring up a context menu in any column and select events <strong>Conditions for the event ...</strong> In the window that opens, you can set the necessary conditions (for job conditions are only available properties are present in the selected event). In the file <strong>logcfg.xml</strong> gets text similar to the following (event <strong>dbmssql</strong> Journal of Technology in the fall if the property <strong>duration</strong> more than <strong>100,000</strong>)</p><pre class="SyntaxDescription" dir="ltr"><event><br><eq property="name" value="dbmssql"></eq><br><gt property="duration" value="15000"></gt><br> Event&gt;<br></event></pre>
<p dir="ltr">If you want the property fell into the technological log for an event only if a certain condition is met, it should be in line to get the necessary events column of the desired properties in the context menu and select the command <strong>Conditions on the property ...</strong> (In case if this property is available for the selected event.) In the window that opens, you can set conditions on the property. In the file <strong>logcfg.xml</strong> gets text similar to the following (the property <strong>sql</strong> developments <strong>dbmssql</strong> zhurnla gets into the process only when the property <strong>duration</strong> developments <strong>dbmssql</strong> more <strong>150,000</strong>)</p><pre class="SyntaxDescription"><property name="sql"><br><event><br><eq property="name" value="dbmssql"></eq><br><gt property="duration" value="15000"></gt><br> Event&gt;<br> Property&gt;</event></property></pre>
<p class="Usual">If you want to include in the technology magazine specific property for all events, it should be in the context menu select the command <strong>Enable for all events</strong>. In the file <strong>logcfg.xml</strong> gets text similar to the following:</p><pre class="SyntaxDescription"><property name="dbpid"><br><event><br><ne property="name" value=""></ne><br> Event&gt;<br><event><br><eq property="name" value="db2"></eq><br> Event&gt;<br><event><br><eq property="name" value="dbmssql"></eq><br> Event&gt;<br><event><br><eq property="name" value="dboracle"></eq><br> Event&gt;<br><event><br><eq property="name" value="dbpostgrs"></eq><br> Event&gt;<br> Property&gt;</event></event></event></event></event></property></pre>
<h2>Working with the dump, tracking memory leaks and preserving query plans</h2>
<h3>Dump Settings</h3>
<p>For the system to 1C: Enterprise created a memory dump when an error occurs, leading to an emergency zaverschsheniyu the system, you must enable the checkbox <strong>To dump on Abort</strong>, Select the location of the dump file and its type. In most cases, leave the dump type, the default (or use the command <strong>The optimum size of the dump</strong> context menu edit field type dump).</p>
<h3>Saving settings query plans</h3>
<p>For the preservation of query plans in the magazine meets the technological box <strong>Tracking query plans (<plansql>)</plansql></strong> and property <strong>planSQLText</strong> Event execution of SQL statements different DBMS. Setting the first box enables the possibility of generating query plans, and enable or disable controls the availability of information about query plans in their respective events. If retention is query plans, it is recommended to also include a recording properties <strong>SQL</strong> events for execution of SQL statements different DBMS.</p><pre class="SyntaxDescription"> <plansql></plansql><br><log location="C:\v82\logs\" history="48"><br><event><br><eq property="name" value="dbmssql"></eq><br> Event&gt;<br><property name="plansqltext"><br><event><br><eq property="name" value="dbmssql"></eq><br> Event&gt;<br> Property&gt;<br><property name="sql"><br><event><br><eq property="name" value="dbmssql"></eq><br> Event&gt;<br> Property&gt;<br> Log&gt;</event></property></event></property></event></log></pre>
<p>In this example, the events of operators' database server MSSQL (Event <strong>dbmssql</strong>) Included fixing text query language SQL (property <strong>sql</strong>) And query execution plans (property <strong>plansqltext</strong>). Also included is a collection of query execution plans (element <strong>plansql</strong>).</p>
<p class="Important">Getting query plans slows querying the database. For some products, a slowdown could be significant.</p>
<h3>Configure memory leaks</h3>
<p class="Usual">For control memory leaks meets two settings:</p>
<ul><li>
<div><strong>Monitor server memory usage</strong>. It should either enable output to the technological log all events, including events or separately <strong>mem</strong> (<strong>Server memory leak</strong>).</div>
</li><li>
<div><strong>Track memory leaks in the configuration code</strong>. In this case, you must specify the areas in which the configuration must control whether a memory leak. This can be done using check boxes <strong>Checkpoint start / stop code execution on the client</strong>,<strong>Checkpoint start / stop code execution on a server</strong>And lists to enter information about a controlled modules. It should either enable output to the technological log all events, including events or separately <strong>leaks</strong> (<strong>Memory Leak</strong>).</div></li></ul><h2>Setting conducting technological default log</h2>
<p>Technology magazine by default - a special kind of technological log for recording events that occur in critical situations (in terms of "1C: Enterprise"). To do this, create a fixed filter log events, which forms the platform and which can not be changed.</p>
<p>However, you can configure <strong>Location System technology magazine</strong> and <strong>Retention period of history, clock</strong>. To install the storage parameters of technological default log in the default hyperlink is <strong>Set the system configuration process default log</strong>.</p>
<p>Using Table <strong>System events</strong> You can specify the details of the events recorded.</p></body></html>