<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.9600.17126"></meta></head><body>
<h1>Réglage du fichier de configuration de la technologie Journal (de logcfg.xml)</h1>
<dl><dt>Ce traitement est conçu pour modifier le fichier de configuration de la technologie Journal (<strong>logcfg.xml</strong>).</dt></dl><p class="Important">Caractéristiques de ce traitement ne permet pas d'utiliser pleinement les possibilités offertes par le format de fichier dans les paramètres des événements enregistrés dans le registre de production, cependant, fourni suffisamment d'occasions de créer rapidement des fichiers de configuration qui couvrent une partie importante des besoins.</p>
<p>Lorsque vous ouvrez le processus tente d'ouvrir un fichier de configuration journal technologique existant. Recherche de fichiers est effectuée par les moyens suivants:</p>
<ul><li>Répertoire <strong>bin \ conf</strong>
 version lancée de 1C: Enterprise 8. Si le fichier est trouvé - il ouvre le traitement et la recherche ultérieure prkraschaetsya. </li><li>Si le fichier est introuvable dans le catalogue <strong>bin \ conf</strong> Situé fichier <strong>conf.cfg</strong>, Il essaie de trouver le fichier dans le répertoire spécifié dans ce fichier. Si le fichier est trouvé - il ouvre traitement.</li></ul><p>Avec ce traitement, vous pouvez spécifier les paramètres de la décharge, des fuites de mémoire, et le contrôle de la revue des paramètres de processus.</p>
<p>L'onglet <strong class="ControlElement">Les paramètres du journal technologiques</strong> Zavala réglages possibles pour la création de journal technologique.</p>
<p>L'onglet <strong class="ControlElement">Les paramètres de sauvegarde et de surveiller les fuites de mémoire</strong> il est possible de définir les paramètres:</p>
<ul><li>
Construire une décharge; </li><li>
Fixation des fuites de mémoire sur le serveur; </li><li>La réparation des fuites configuration de la mémoire.</li></ul><p>L'onglet <strong>Technologie Journal des événements de défaut et de système</strong> vous configurez les paramètres pour la création du journal par défaut technologique.</p>
<p>Il est également possible de former des fichiers de configuration de modèle.</p>
<p>Pour ce faire, vous devez spécifier les paramètres requis du fichier de configuration et exécutez la commande <strong>Plus - Enregistrer comme modèle ...</strong> Le fichier de configuration est enregistré dans le catalogue de fichiers de configuration nommé commune <strong>config * .lct </strong>(à la place du caractère * sera remplacé par le numéro de série du fichier de modèle).</p>
<h2>Travailler avec l'éditeur de paramètres de la revue</h2>
<p>Considérez techniques pour travailler avec l'éditeur de paramètres du magazine.</p>
<h3>Réglage de l'éditeur de la revue Technology</h3>
<p>Au-dessus de l'éditeur est un groupe de paramètres <strong>Paramètres</strong>. Dans ce groupe sont donné la nécessité de mener la revue des processus, son emplacement et la période de stockage, ainsi que des options qui vous permettent de rendre le processus d'édition plus pratique. Le groupe peut être minimisé, après tous les ajustements que cela prend moins de place sur l'écran.</p>
<p>Case <strong>Forming Technology Magazine</strong> les contrôles doivent créer un système de journal technologique "1C: Enterprise". </p>
<p><strong>Magazine de la technologie de localisation</strong> et <strong>La période de stockage de l'histoire, horloge</strong> déterminer où et combien de temps le processus sera stocké journal.</p>
<p>Dans la partie droite du groupe paramètres sont situés commandes auxiliaires qui vous permettent de rendre le processus d'édition plus pratique. Un groupe de commutateurs (<strong class="ControlElement">Toutes les propriétés</strong>.<strong class="ControlElement">Propriétés Seulement sélectionnés</strong> et <strong class="ControlElement">Toutes les propriétés des événements sélectionnés</strong>) Détermine les événements seront affichés dans la fenêtre de l'éditeur:</p>
<ul><li>
<div><strong>Toutes les propriétés des événements sélectionnés</strong> - Un mode dynamique. Cela montre seulement les propriétés qui sont disponibles pour les événements sélectionnés (enregistrées la première colonne). Ajout ou suppression des événements - allant composition des propriétés affichées. Lors de l'affichage ignore le fait que pour la colonne non marquée peut être réglé sur toute propriété.</div>
</li><li>
<div>
<div><strong>Propriétés Seulement sélectionnés</strong> - Dans ce cas permet d'afficher uniquement les propriétés pour lesquels la marque est fixé à-moins un processus de journal des événements. Mode est pas dynamique.</div></div>
</li><li>
<div>
<div><strong>Toutes les propriétés</strong> - Dans ce cas vous montrera toutes les propriétés de tous les processus de journal des événements. Mode est pas dynamique.</div></div></li></ul><p>Si vous souhaitez afficher uniquement les événements qui sont en aucune façon choisie (marqué dans une colonne d'un événement spécifique), vous pouvez le faire en utilisant le drapeau <strong class="ControlElement">Seuls les événements vérifiés</strong>.</p>
<p>Avec commutateurs <strong>Afficher les descriptions</strong> et <strong>Les noms d'affichage</strong> Vous pouvez contrôler la façon dont les propriétés d'affichage et événements de l'éditeur.</p>
<dl><dt>
<div>Aussi, dans le bas de la description de la forme otobrazhaemtsya des événements actuels (artiste <strong>Événement actuel</strong>) Et de la propriété actuelle (groupe <strong>Propriété Current</strong>). ID de l'événement en cours, ou les biens sont affichés entre parenthèses après le texte correspondant. Par exemple, pour l'événement "SQL, Microsoft SQL Server" tête de groupe ressemblera <strong>Événement actuel (de dbmssql)</strong>. Si cette information auxiliaire est pas nécessaire, il peut être retiré, en tournant le groupe <strong>Information Supplémentaire</strong>.</div></dt></dl><h3>Règles d'édition générale</h3>
<p>Éditeur de configuration est une matrice dans laquelle les rangées sont présentés les événements qui peuvent entrer dans un journal de processus, et dans les colonnes - Les propriétés de ces événements.</p>
<p>Les cellules qui ont un fond blanc et un cadre encerclé, effectuer toute action, si vous cliquez sur eux. En cliquant sur la cellule provoque la marque - l'apparition du symbole "V". En cliquant à nouveau supprime la marque.</p>
<p>Si vous êtes une marque de la cellule dans la colonne <strong class="ControlElement">Tous les événements</strong> ou une colonne à droite de cette colonne, est réalisée en même temps en tant que marque de la première cellule de l'événement en cours (y compris dans le procédé de la journal des événements). Radiation de la marque n'a pas de telles caractéristiques.</p>
<p>Marquer les propriétés pour tous les événements (pour lesquels la propriété est définie) est effectuée en utilisant le menu contextuel <strong class="ControlElement">Activer pour tous les événements</strong>. Pour désélectionner devrait utiliser la commande du menu contextuel <strong class="ControlElement">Éteignez pour tous les événements</strong>Debout dans une ligne de la colonne à la propriété sélectionnée.</p>
<p>Si vous souhaitez affecter une condition à un événement, cela devrait être fait en utilisant le menu contextuel <strong class="ControlElement">Conditions pour l'événement ...</strong>Alors que dans l'une des colonnes de l'événement sélectionné. Si les conditions sont établies, la marque a acquis la forme "<strong>V</strong>»(En gras). Pour retirer les conditions pour l'événement devrait soit supprimer tous les événements dans l'environnement de l'éditeur, ou utilisez la commande de menu contextuel <strong class="ControlElement">Nettoyez le filtre pour l'événement</strong>. Cette marque restera, mais perdra le design audacieux.</p>
<p>Si vous souhaitez affecter une condition sur la propriété d'événement, cela devrait être fait en utilisant le menu contextuel <strong class="ControlElement">La condition sur la propriété ...</strong>Alors que dans la cellule, qui peut être édité (fond blanc et un cadre). Si les conditions sont établies, la marque a acquis la forme "<strong>V</strong>»(En gras). Pour retirer les conditions pour l'événement devrait soit supprimer tous les événements dans l'environnement de l'éditeur, ou utilisez la commande de menu contextuel <strong class="ControlElement">Nettoyez la propriété de filtre</strong>. Cette marque restera, mais perdra le design audacieux.</p>
<p>Si vous voulez effacer la totalité du processus de paramètres de propriété et journal des événements, sélectionnez la commande menu contextuel RÉDACTION <strong>Des paramètres clairs du journal technologique</strong>. Si oui, le magazine sera fixée pour l'enregistrement de toutes les propriétés de tous les événements. Aucun autre paramètre journal technologique (durée de vie et la manière dans le répertoire technologique du journal ne sera pas modifié).</p>
<h3>Patterns et leur utilisation</h3>
<p>Pour simplifier la création de fichiers de configuration dans certains cas typiques, l'éditeur du fichier de configuration contient un certain nombre de modèles technologiques de journaux (fichiers de configuration prédéfinis) qui vous permettent d'effectuer rapidement le fichier de configuration des paramètres. Pour utiliser le modèle, sélectionnez la commande <strong>Modèle ...</strong> dans la boîte de dialogue pour sélectionner le modèle souhaité.</p>
<p>En outre, il ya une possibilité de créer des modèles fichier de configuration. Pour ce faire, définissez les paramètres requis sur les deux onglets (<font color="#000040"><strong>Les paramètres du journal technologiques</strong> et <strong>Les paramètres de sauvegarde et de surveiller les fuites de mémoire</strong></font>) Et sélectionnez <strong>Toutes les actions - Enregistrer comme modèle ...</strong> Après avoir spécifié un modèle, le fichier de modèle est enregistrée dans les fichiers de configuration du système de catalogue.</p>
<p>Ensuite, ces modèles seront également disponibles dans la boîte de sélection lorsque vous sélectionnez un modèle <strong>Modèle ...</strong></p>
<dl><dt>
<h3>Les opérations typiques dans les paramètres de l'éditeur de la revue technologique</h3></dt></dl><p>Si vous souhaitez inclure dans la technologique connecter tous les événements et toutes les propriétés de l'événement, définissez la marque pour l'événement "Tous les événements" et "Toutes les propriétés Propriétés". Pour déposer <strong>logcfg.xml</strong> obtient le texte suivant:</p><pre class="SyntaxDescription">&amp; Lt; événement &amp; gt;<br> &amp; Lt; NE propriété = valeur "nom" = "" / &amp; gt;<br>&amp; Lt; / Événement &amp; gt;<br>&amp; Lt; nom de la propriété = "all" / &amp; gt;<br></pre>
<p>Si vous voulez fichier est toujours la conception <strong>&amp; Lt; nom de la propriété = "all" / &amp; gt;</strong>Il est nécessaire que la propriété a été trouvé, "Tous les biens" pour l'événement "Tous les événements" (non compris l'événement lui-même).</p>
<p>Si vous souhaitez inclure dans la technologique consigner tous les événements d'une propriété, il est nécessaire de noter la première colonne, situé en face de la propriété sélectionnée). Par exemple, si l'étiquette est face à la propriété "Microsoft SQL Server", le fichier <strong>logcfg.xml</strong> obtenir ce qui suit:</p><pre class="SyntaxDescription">&amp; Lt; événement &amp; gt;<br> &amp; Lt; éq propriété = valeur "nom" = "dbmssql" / &amp; gt;<br>&amp; Lt; / Événement &amp; gt;<br></pre>
<p dir="ltr">Si vous souhaitez inclure dans le magazine de la technologie de toutes les propriétés de l'événement sélectionné, propriété, il convient de noter "Toutes les propriétés" de l'événement requis (l'événement sera marqué automatiquement et toutes les propriétés disponibles de cet événement sera marqué avec une couleur de fond spéciale). Par exemple, si la colonne «Toutes les propriétés" aux propriétés marquées "SQL, Microsoft SQL Server", puis de déposer <strong>logcfg.xml</strong> obtenir le texte suivant:</p><pre class="SyntaxDescription" dir="ltr">&amp; Lt; événement &amp; gt;<br> &amp; Lt; éq propriété = valeur "nom" = "dbmssql" / &amp; gt;<br>&amp; Lt; / Événement &amp; gt;<br>&amp; Lt; nom de la propriété = "all" &amp; gt;<br> &amp; Lt; événement &amp; gt;<br>  &amp; Lt; éq propriété = valeur "nom" = "dbmssql" / &amp; gt;<br> &amp; Lt; / Événement &amp; gt;<br>&amp; Lt; / Propriété &amp; gt;<br></pre>
<p>Si vous voulez que votre événement est dans le magazine de la technologie que si vpolnyaetsya une condition, vous devez appeler un menu contextuel dans le cas de la colonne et sélectionnez <strong>Conditions pour l'événement ...</strong> Dans la fenêtre suivante, vous pouvez définir les conditions nécessaires (à fixer les conditions ne sont que des propriétés disponibles qui sont présents lors d'événements sélectionnés). Pour déposer <strong>logcfg.xml</strong> obtenir un texte comme celui-ci (l'événement <strong>dbmssql</strong> obtient dans le processus dans le journal des événements si la propriété <strong>durée</strong> plus que <strong>100000</strong>):</p><pre class="SyntaxDescription" dir="ltr">&amp; Lt; événement &amp; gt;<br> &amp; Lt; éq propriété = valeur "nom" = "dbmssql" / &amp; gt;<br> &amp; Lt; propriété gt = "durée" value = "15000" / &amp; gt;<br>&amp; Lt; / Événement &amp; gt;<br></pre>
<p dir="ltr">Si vous voulez la propriété est tombé dans le magazine de la technologie pour un événement que si une certaine condition, il devrait être en ligne pour obtenir la colonne d'événement souhaité des propriétés souhaitées dans le menu contextuel, sélectionnez la commande <strong>Conditions à la propriété ...</strong> (dans ce cas, si cette propriété est disponible pour l'événement sélectionné). Dans la fenêtre qui apparaît, vous pouvez définir les conditions sur la propriété. Pour déposer <strong>logcfg.xml</strong> obtenir un texte comme celui-ci (la propriété <strong>sql</strong> développements <strong>dbmssql</strong> zhurnla pénètre dans le processus uniquement lorsque la propriété <strong>durée</strong> développements <strong>dbmssql</strong> mieux <strong>150000</strong>):</p><pre class="SyntaxDescription">&amp; Lt; property name = "sql" &amp; gt;<br> &amp; Lt; événement &amp; gt;<br>  &amp; Lt; éq propriété = valeur "nom" = "dbmssql" / &amp; gt;<br>  &amp; Lt; propriété gt = "durée" value = "15000" / &amp; gt;<br> &amp; Lt; / Événement &amp; gt;<br>&amp; Lt; / Propriété &amp; gt;</pre>
<p class="Usual">Si vous souhaitez inclure dans la propriété spécifique Technology Magazine pour tous les événements, il devrait être dans le menu contextuel, sélectionnez la commande <strong>Activer pour tous les événements</strong>. Pour déposer <strong>logcfg.xml</strong> obtenir un texte comme celui-ci:</p><pre class="SyntaxDescription">&amp; Lt; name = "dbpid" &amp; gt biens;<br> &amp; Lt; événement &amp; gt;<br>  &amp; Lt; NE propriété = valeur "nom" = "" / &amp; gt;<br> &amp; Lt; / Événement &amp; gt;<br> &amp; Lt; événement &amp; gt;<br>  &amp; Lt; éq propriété = valeur "nom" = "DB2" / &amp; gt;<br> &amp; Lt; / Événement &amp; gt;<br> &amp; Lt; événement &amp; gt;<br>  &amp; Lt; éq propriété = valeur "nom" = "dbmssql" / &amp; gt;<br> &amp; Lt; / Événement &amp; gt;<br> &amp; Lt; événement &amp; gt;<br>  &amp; Lt; éq propriété = valeur "nom" = "dboracle" / &amp; gt;<br> &amp; Lt; / Événement &amp; gt;<br> &amp; Lt; événement &amp; gt;<br>  &amp; Lt; propriété eq = "nom" value = "de dbpostgrs" / &amp; gt;<br> &amp; Lt; / Événement &amp; gt;<br>&amp; Lt; / Propriété &amp; gt;</pre>
<h2>Utilisation des paramètres de vidage suivi des fuites de mémoire et des plans de conservation pour les requêtes</h2>
<h3>Réglage de vidage</h3>
<p>Pour l'1C: Enterprise a créé le vidage de la mémoire lors de la survenance d'une erreur causant urgence zaverschsheniyu le système, vous devez activer la case <strong>Créer un dépotoir où les accidents</strong>, Sélectionnez un fichier emplacement de vidage et son type. Dans la plupart des cas, laissez le type de vidage, la valeur par défaut (ou utilisez la commande <strong>La taille optimale de la décharge</strong> champs d'édition du menu contextuel tels que la décharge).</p>
<h3>Enregistrer les paramètres des plans de requêtes</h3>
<p>Pour la conservation des plans de requête dans la technologie le magazine répond boîte <strong>Les plans de requête de piste (&amp; lt; &amp; gt; planSQL)</strong> et la propriété <strong>planSQLText</strong> L'exécution de l'événement d'instructions SQL de différentes bases de données. Installation du premier drapeau comprend la possibilité de générer des plans de requête, et activer ou désactiver les propriétés gérées par la disponibilité des informations sur les plans de requêtes développements pertinents. Si vous incluez la préservation des plans de requête, il est recommandé d'inclure également les propriétés d'enregistrement <strong>SQL</strong> Évènements pour l'exécution d'instructions SQL de différentes bases de données.</p><pre class="SyntaxDescription"> &amp; Lt; plansql / &amp; gt;<br> &amp; Lt; Emplacement du journal = "C: \ V82 \ logs \" histoire = "48" &amp; gt;<br>  &amp; Lt; événement &amp; gt;<br>   &amp; Lt; éq propriété = valeur "nom" = "dbmssql" / &amp; gt;<br>  &amp; Lt; / Événement &amp; gt;<br>  &amp; Lt; property name = "de plansqltext" &amp; gt;<br>   &amp; Lt; événement &amp; gt;<br>    &amp; Lt; éq propriété = valeur "nom" = "dbmssql" / &amp; gt;<br>   &amp; Lt; / Événement &amp; gt;<br>  &amp; Lt; / Propriété &amp; gt;<br>  &amp; Lt; property name = "sql" &amp; gt;<br>   &amp; Lt; événement &amp; gt;<br>    &amp; Lt; éq propriété = valeur "nom" = "dbmssql" / &amp; gt;<br>   &amp; Lt; / Événement &amp; gt;<br>  &amp; Lt; / Propriété &amp; gt;<br> &amp; Lt; / Log &amp; gt;</pre>
<p>Dans cet exemple, la performance des opérateurs pour l'MSSQL serveur de base de l'événement (Event <strong>dbmssql</strong>) Inclus fixation langage de requête SQL texte (propriété <strong>sql</strong>) Et des plans d'exécution de requêtes (propriété <strong>plansqltext</strong>). On y trouve aussi une collection de plans d'exécution de requêtes (élément <strong>plansql</strong>).</p>
<p class="Important">Obtenir des plans de requêtes ralentit interrogeant la base de données. Pour un certain ralentissement de la base de données pourrait être significatif.</p>
<h3>Fuites de mémoire Paramètres</h3>
<p class="Usual">Pour le contrôle des fuites de mémoire se réunit deux paramètres:</p>
<ul><li>
<div><strong>Contrôler l'utilisation de la mémoire du serveur</strong>. Cela devrait inclure une conclusion dans le journal des processus de tous les événements, y compris les événements, soit seul, <strong>mem</strong> (<strong>Serveur fuite de mémoire</strong>).</div>
</li><li>
<div><strong>Piste fuite de mémoire dans la configuration de code</strong>. Dans ce cas, vous devez spécifier les domaines dans lesquels vous avez besoin de contrôler si la configuration de la fuite de mémoire. Cela peut être fait en utilisant des drapeaux <strong>Checkpoint démarrage / arrêt exécution de code sur un client</strong>.<strong>Checkpoint démarrage / arrêt exécution de code sur un serveur</strong>Et des listes d'entrer des informations sur un des modules contrôlés. Cela devrait inclure une conclusion dans le journal des processus de tous les événements, y compris les événements, soit seul, <strong>fuites</strong> (<strong>Fuite de mémoire</strong>).</div></li></ul><h2>Mise en place du journal par défaut technologique</h2>
<p>Technologie Journal de défaut - est un type spécial de journal des processus pour l'enregistrement d'événements survenus dans des situations critiques (en termes de système "1C: Enterprise"). Pour ce faire, le magazine a créé un filtre d'événement fixe, qui constitue la plate-forme et qui ne peut être modifié.</p>
<p>Cependant, il est possible de configurer <strong>Situation magazine technologie de système</strong> et <strong>La période de stockage de l'histoire, horloge</strong>. Pour définir le processus de stockage de journal par défaut est un lien hypertexte par défaut <strong>Réglez le journal processus de défaut de configuration du système</strong>.</p>
<p>Utilisation de la table <strong>Les événements système</strong> Vous pouvez spécifier les détails des événements enregistrés.</p></body></html>